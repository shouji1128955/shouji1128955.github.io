<!doctype html>
<html lang="zh-CN" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-DevOps/terraform/terraform" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.5.2">
<title data-rh="true">terraform | LiteShell</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://docusaurus.io/zh-CN/img/undraw_typewriter.svg"><meta data-rh="true" name="twitter:image" content="https://docusaurus.io/zh-CN/img/undraw_typewriter.svg"><meta data-rh="true" property="og:url" content="https://shouji1128955.github.io/bookshell/docs/DevOps/terraform/terraform"><meta data-rh="true" property="og:locale" content="zh_CN"><meta data-rh="true" property="og:locale:alternate" content="en"><meta data-rh="true" name="docusaurus_locale" content="zh-CN"><meta data-rh="true" name="docsearch:language" content="zh-CN"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="terraform | LiteShell"><meta data-rh="true" name="description" content="Terraform基础"><meta data-rh="true" property="og:description" content="Terraform基础"><link data-rh="true" rel="icon" href="/bookshell/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://shouji1128955.github.io/bookshell/docs/DevOps/terraform/terraform"><link data-rh="true" rel="alternate" href="https://shouji1128955.github.io/bookshell/docs/DevOps/terraform/terraform" hreflang="zh-CN"><link data-rh="true" rel="alternate" href="https://shouji1128955.github.io/bookshell/en/docs/DevOps/terraform/terraform" hreflang="en"><link data-rh="true" rel="alternate" href="https://shouji1128955.github.io/bookshell/docs/DevOps/terraform/terraform" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/bookshell/blog/rss.xml" title="LiteShell RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/bookshell/blog/atom.xml" title="LiteShell Atom Feed"><link rel="stylesheet" href="/bookshell/assets/css/styles.fb7577d1.css">
<script src="/bookshell/assets/js/runtime~main.c0446ed9.js" defer="defer"></script>
<script src="/bookshell/assets/js/main.d13dfaa7.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="跳到主要内容"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">跳到主要内容</a></div><nav aria-label="主导航" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="切换导航栏" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/bookshell/"><div class="navbar__logo"><img src="/bookshell/img/logo.svg" alt="LiteShell" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/bookshell/img/logo.svg" alt="LiteShell" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">LiteShell</b></a><div class="navbar__item dropdown dropdown--hoverable"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">Sre</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/bookshell/docs/Sre/日常运维/operator">日常运维</a></li><li><a class="dropdown__link" href="/bookshell/docs/Sre/中间件/Harbor">中间件</a></li><li><a class="dropdown__link" href="/bookshell/docs/Sre/面试题/基础面试题">面试题</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">Kubernetes</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/bookshell/docs/k8s/operator">Kubernetes</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">Prometheus</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/bookshell/docs/Prometheus/grafana">grafana</a></li><li><a class="dropdown__link" href="/bookshell/docs/Prometheus/prometheus/告警指标汇总">Prometheus</a></li><li><a class="dropdown__link" href="/bookshell/docs/Prometheus/alertManager/alertmanager告警配置">AlertManager</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">DevOps</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/bookshell/docs/DevOps/jenkins/jenkins安装配置/jenkins安装配置">jenkins</a></li><li><a class="dropdown__link" href="/bookshell/docs/DevOps/gitOps/tekton安装">gitOps</a></li><li><a class="dropdown__link" href="/bookshell/docs/DevOps/ELK/ELK测试部署">ELK</a></li><li><a class="dropdown__link" href="/bookshell/docs/DevOps/skywalking/zookeeper安装">skywalking</a></li><li><a class="dropdown__link" href="/bookshell/docs/DevOps/observability/OpenTelemetry">observability</a></li><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/bookshell/docs/DevOps/terraform/terraform">terraform</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">Golang</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/bookshell/docs/Golang/golang基础/Go核心编程2023/golang">golang基础</a></li><li><a class="dropdown__link" href="/bookshell/docs/Golang/golang进阶/gin框架2023/Gin框架">golang进阶</a></li><li><a class="dropdown__link" href="/bookshell/docs/Golang/golang运维/项目1-Bingo/Bingo">golang运维</a></li><li><a class="dropdown__link" href="/bookshell/docs/Golang/VUE/vue入门教程/html基础">Vue</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">JAVA</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/bookshell/docs/Java/JAVA/admin组件">Java</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">Treasure</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/bookshell/docs/Treasure/Wisdom/国学经典">Plan and strategize</a></li><li><a class="dropdown__link" href="/bookshell/docs/Treasure/Studytour/莱卡">read book</a></li></ul></div><a class="navbar__item navbar__link" href="/bookshell/blog">Blog</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/facebook/docusaurus" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="切换浅色/暗黑模式（当前为浅色模式）" aria-label="切换浅色/暗黑模式（当前为浅色模式）" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><div class="navbar__search searchBarContainer_NW3z" dir="ltr"><input placeholder="搜索" aria-label="Search" class="navbar__search-input"><div class="loadingRing_RJI3 searchBarLoadingRing_YnHq"><div></div><div></div><div></div><div></div></div></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="回到顶部" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="文档侧边栏" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" href="/bookshell/docs/DevOps/terraform/terraform">terraform</a></li></ul></nav><button type="button" title="收起侧边栏" aria-label="收起侧边栏" class="button button--secondary button--outline collapseSidebarButton_PEFL"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_kv0_"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="页面路径"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="主页面" class="breadcrumbs__link" href="/bookshell/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">terraform</span><meta itemprop="position" content="1"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">本页总览</button></div><div class="theme-doc-markdown markdown"><header><h1>terraform</h1></header><h2 class="anchor anchorWithStickyNavbar_LWe7" id="terraform基础">Terraform基础<a href="#terraform基础" class="hash-link" aria-label="Terraform基础的直接链接" title="Terraform基础的直接链接">​</a></h2>
<p>windows版本安装</p>
<p>下载官方二进制，放到 C:\Apps\Terraform下面， 然后在系统环境变量中编辑PATH，让其能够自动加载即可</p>
<p>配置语 法</p>
<p>terraform 配置文件都是以.tf为后缀;</p>
<p>Terraform支持两种模式HCL, JSON;</p>
<p>需要安装的两个插件(代码补全)</p>
<p>terraform</p>
<p>HashiCorp terraform</p>
<p>创建环境变量，用于存放身份认证信息。</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">export ALICLOUD_ACCESS_KEY=&quot;LTAI5t9g82e3ofLkYRqbDE&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">export ALICLOUD_SECRET_KEY=&quot;RaZsnfJqQaUJjKzKVqLJsKaWtSCk&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">export ALICLOUD_REGION=&quot;cn-beijing&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">export TF_VAR_ALICLOUD_ACCESS_KEY=&quot;LTAI5t9g82e3ofLkYRqbDE&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">export TF_VAR_ALICLOUD_SECRET_KEY=&quot;RaZsnfJqQaUJjKzKVqLJsKaWtSCk&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>申请阿里云资源</p>
<p>terraform  init 初始化</p>
<p>初始化: 安装Provider,模块，配置后端State;</p>
<p>.terraform目录在初始化时自动创建，Terraform使用它来管理缓存的提供程序插件和模块等配置;</p>
<p>state文件用于存储Terraform的数据， terraform.tfstate</p>
<p>校验代码语法检查</p>
<p>Validate主要运行检查，验证配置是否在语法上由效，属性名称和值类型的正确性</p>
<div class="language-golang codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-golang codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">terraform  validate -json</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>计划与预览</p>
<p>评估terraform配置，并打印声明的所有资源的期望状态</p>
<p>将期望状态与当前工作目录的基础设施对象进行比较</p>
<p>打印当前状态和期望状态之间的差异(不会执行变更)</p>
<div class="language-golang codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-golang codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">terraform plan</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>申请资源</p>
<div class="language-golang codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-golang codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">terraform apply</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>terraform show 申请资源</p>
<p>读取状态或计划文件转换成人 类可读的输出。这可用于检查计划以确保预期的计划操作，或检查Terraform看到的当前状态</p>
<p>销毁资源(慎重)</p>
<div class="language-golang codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-golang codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">terraform  destroy</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="terraform语法">Terraform语法<a href="#terraform语法" class="hash-link" aria-label="Terraform语法的直接链接" title="Terraform语法的直接链接">​</a></h2>
<p>配置文件以.tf为后缀</p>
<p>支持两种模式HCL,JSON ，HCL适合查看，json适合代码数据处理</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="provider插件">Provider插件<a href="#provider插件" class="hash-link" aria-label="Provider插件的直接链接" title="Provider插件的直接链接">​</a></h4>
<p>Terraform 通过provider管理基础设施，使用provider与云供应商API进行交互</p>
<p>每个Provider都包含相关的资源和数据源</p>
<p>官方地址</p>
<p><a href="https://registry.terraform.io/?product_intent=terraform" target="_blank" rel="noopener noreferrer">Terraform Registry</a></p>
<p>配置Provider</p>
<p>关键字Provider</p>
<p>provider名称</p>
<div class="language-golang codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-golang codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">provider &quot;alicloud&quot; {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> access_key = var.alicloud_access_key</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> aecret_key = var.alicloud_secret_key</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> reginon = var.region</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>alias-配置多个Provider</p>
<div class="language-golang codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-golang codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">可以为同一个Provider定义多个配置，并选择基于每个资源或每个模块使用哪一个。这样做的主要原因是支持一个云平台的多个区域.</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>引用方式: <code>&lt;PROVIDER NAME&gt;.&lt;ALIAS&gt;, alicloud.beijing</code></p>
<div class="language-golang codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-golang codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">provider &quot;alicloud&quot; {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   alias = &quot;beijing&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   region = &quot;cn-beijing-b&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">provider &quot;alicloud&quot; {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   alias = &quot;hangzhou&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   region = &quot;cn-hangzhou-b&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="resource资源">Resource资源<a href="#resource资源" class="hash-link" aria-label="Resource资源的直接链接" title="Resource资源的直接链接">​</a></h3>
<p>资源来源于Provider, 是Terraform中最重要的元素，每个资源块描述一个或多个基础对象，例如网络，计算实例或更高级别的组件，例如DNS记录</p>
<p>资源名称必须以字母或下划线开头，并且只能包含字母， 数字，下划线和破折号。</p>
<div class="language-golang codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-golang codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">resource &quot;resource_type&quot; &quot;name&quot; {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  // resource_config</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">//保留name是唯一的   </span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="datasource数据源">DataSource数据源<a href="#datasource数据源" class="hash-link" aria-label="DataSource数据源的直接链接" title="DataSource数据源的直接链接">​</a></h3>
<p>datasource提供资源的时候，可以通过参数过滤数据并提供其他模块应用，使用data块声明</p>
<div class="language-golang codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-golang codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">data &quot;alicloud_images&quot; &#x27;images_ds&#x27; {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   owners = &quot;system&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   name_rege = &quot;^centos_6&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   architecture = &quot;x86_64&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   status = &quot;Available&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   os_type = &quot;linux&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   output_file = &quot;./outputs.json&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">output &quot;image_name&quot; {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   value = data.alicloud_images.images_ds.images</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>可以在resource中引用数据源</p>
<p>获取所有的镜像</p>
<div class="language-golang codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-golang codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">terraform {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  required_providers {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    alicloud = {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      source = &quot;hashicorp/alicloud&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">variable &quot;ALICLOUD_ACCESS_KEY&quot; {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">type = string</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sensitive = true</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">variable &quot;ALICLOUD_SECRET_KEY&quot; {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  type = string</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">provider &quot;alicloud&quot; {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  access_key = var.ALICLOUD_ACCESS_KEY</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  secret_key = var.ALICLOUD_SECRET_KEY</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  region = &quot;us-east-1&quot;  // region区域</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">data &quot;alicloud_images&quot; &quot;images_ds&quot; {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  owners        = &quot;system&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  name_regex    = &quot;&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  os_type       = &quot;linux&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  architecture  = &quot;x86_64&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  instance_type = &quot;ecs.n1.tiny&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">output &quot;first_image_id&quot; {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  value = data.alicloud_images.images_ds.images.*.id</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="language-txt codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-txt codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">data.alicloud_images.images_ds: Read complete after 1m14s [id=31026615]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Changes to Outputs:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  + first_image_id = [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      + &quot;ubuntu_22_04_uefi_x64_20G_alibase_20230515.vhd&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      + &quot;ubuntu_22_04_x64_20G_alibase_20240322.vhd&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      + &quot;ubuntu_20_04_x64_20G_alibase_20240220.vhd&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      + &quot;ubuntu_18_04_x64_20G_alibase_20240223.vhd&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      + &quot;ubuntu_16_04_x64_20G_alibase_20221227.vhd&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      + &quot;rockylinux_9_3_x64_20G_alibase_20240228.vhd&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      + &quot;rockylinux_9_2_x64_20G_alibase_20231115.vhd&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      + &quot;rockylinux_9_1_uefi_x64_20G_alibase_20230605.vhd&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      + &quot;rockylinux_9_1_x64_20G_alibase_20230516.vhd&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      + &quot;rockylinux_9_0_x64_20G_alibase_20230323.vhd&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      + &quot;rockylinux_8_9_x64_20G_alibase_20240228.vhd&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      + &quot;rockylinux_8_8_uefi_x64_20G_alibase_20230907.vhd&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      + &quot;rockylinux_8_8_x64_20G_alibase_20231115.vhd&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      + &quot;rockylinux_8_7_uefi_x64_20G_alibase_20230918.vhd&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      + &quot;rockylinux_8_7_x64_20G_alibase_20230918.vhd&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      + &quot;rockylinux_8_6_x64_20G_alibase_20231010.vhd&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      + &quot;rockylinux_8_5_x64_20G_alibase_20230601.vhd&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      + &quot;opensuse_15_5_x64_20G_alibase_20231220.vhd&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      + &quot;opensuse_15_4_x64_20G_alibase_20230613.vhd&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      + &quot;opensuse_15_3_x64_20G_alibase_20221227.vhd&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      + &quot;opensuse_15_2_x64_20G_alibase_20221227.vhd&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      + &quot;freebsd_13_0_x86_30G_alibase_20220324.vhd&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      + &quot;freebsd_12_3_x64_30G_alibase_20220331.vhd&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      + &quot;fedora_39_x64_20G_alibase_20231121.vhd&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      + &quot;fedora_38_x64_20G_alibase_20231018.vhd&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      + &quot;fedora_37_x64_20G_alibase_20230407.vhd&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      + &quot;fedora_35_x64_20G_alibase_20220824.vhd&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      + &quot;fedora_33_0_x64_20G_alibase_20230206.vhd&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      + &quot;debian_9_13_x64_20G_alibase_20220428.vhd&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      + &quot;debian_12_5_x64_20G_alibase_20240325.vhd&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      + &quot;debian_12_4_x64_20G_alibase_20240126.vhd&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      + &quot;debian_12_2_uefi_x64_20G_alibase_20231128.vhd&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      + &quot;debian_12_2_x64_20G_alibase_20231128.vhd&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      + &quot;debian_11_9_x64_20G_alibase_20240325.vhd&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      + &quot;debian_11_8_x64_20G_alibase_20240130.vhd&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      + &quot;debian_11_7_x64_20G_alibase_20230907.vhd&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      + &quot;debian_11_6_uefi_x64_20G_alibase_20230217.vhd&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      + &quot;debian_11_6_x64_20G_alibase_20230419.vhd&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      + &quot;debian_11_5_x64_20G_alibase_20221130.vhd&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      + &quot;debian_11_4_x64_20G_alibase_20220824.vhd&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      + &quot;debian_11_3_x64_20G_alibase_20220629.vhd&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      + &quot;debian_11_1_x64_20G_alibase_20230206.vhd&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      + &quot;debian_10_9_x64_20G_alibase_20221227.vhd&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      + &quot;debian_10_7_x64_20G_alibase_20221227.vhd&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      + &quot;debian_10_6_x64_20G_alibase_20221227.vhd&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      + &quot;debian_10_5_x64_20G_alibase_20221227.vhd&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      + &quot;debian_10_4_x64_20G_alibase_20221227.vhd&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      + &quot;debian_10_3_x64_20G_alibase_20221227.vhd&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      + &quot;debian_10_2_x64_20G_alibase_20230216.vhd&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      + &quot;debian_10_13_x64_20G_alibase_20221228.vhd&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      + &quot;debian_10_12_uefi_x64_20G_alibase_20220330.vhd&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      + &quot;debian_10_12_x64_20G_alibase_20220824.vhd&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      + &quot;debian_10_10_x64_20G_alibase_20221227.vhd&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      + &quot;centos_stream_9_uefi_x64_20G_alibase_20240117.vhd&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      + &quot;centos_stream_9_x64_20G_alibase_20240312.vhd&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      + &quot;centos_stream_8_uefi_x64_20G_alibase_20230907.vhd&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      + &quot;centos_stream_8_x64_20G_alibase_20240312.vhd&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      + &quot;centos_8_5_x64_20G_alibase_20220428.vhd&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      + &quot;centos_8_4_uefi_x64_20G_scc_20220629.vhd&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      + &quot;centos_8_3_uefi_x64_20G_scc_20220629.vhd&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      + &quot;centos_7_9_uefi_x64_20G_alibase_20230816.vhd&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      + &quot;centos_7_9_uefi_x64_20G_scc_20220906.vhd&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      + &quot;centos_7_9_x64_20G_alibase_20240321.vhd&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      + &quot;anolisos_8_8_x64_20G_rhck_uefi_alibase_20230308.vhd&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      + &quot;anolisos_8_8_x64_20G_rhck_alibase_20240221.vhd&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      + &quot;anolisos_8_8_x64_20G_anck_dengbao_alibase_20230421.vhd&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      + &quot;anolisos_8_8_x64_20G_anck_uefi_alibase_20230308.vhd&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      + &quot;anolisos_8_8_x64_20G_anck_alibase_20240221.vhd&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      + &quot;anolisos_8_6_x64_20G_rhck_uefi_alibase_20221031.vhd&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      + &quot;anolisos_8_6_x64_20G_rhck_alibase_20221121.vhd&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      + &quot;anolisos_8_6_x64_20G_anck_uefi_alibase_20221031.vhd&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      + &quot;anolisos_8_6_x64_20G_anck_alibase_20221121.vhd&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      + &quot;anolisos_8_4_x64_20G_rhck_alibase_20220704.vhd&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      + &quot;anolisos_8_4_x64_20G_anck_alibase_20220704.vhd&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      + &quot;anolisos_8_2_x64_20G_rhck_alibase_20220415.vhd&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      + &quot;anolisos_8_2_x64_20G_anck_alibase_20220413.vhd&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      + &quot;anolisos_7_9_x64_20G_rhck_uefi_alibase_20220819.vhd&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      + &quot;anolisos_7_9_x64_20G_rhck_alibase_20230420.vhd&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      + &quot;anolisos_7_9_x64_20G_anck_uefi_alibase_20220727.vhd&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      + &quot;anolisos_7_9_x64_20G_anck_alibase_20230420.vhd&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      + &quot;almalinux_9_3_x64_20G_alibase_20240228.vhd&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      + &quot;almalinux_9_2_uefi_x64_20G_alibase_20230605.vhd&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      + &quot;almalinux_9_2_x64_20G_alibase_20230613.vhd&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      + &quot;almalinux_9_1_x64_20G_alibase_20230418.vhd&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      + &quot;almalinux_9_0_x64_20G_alibase_20230323.vhd&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      + &quot;almalinux_8_9_x64_20G_alibase_20240329.vhd&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      + &quot;almalinux_8_8_uefi_x64_20G_alibase_20230907.vhd&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      + &quot;almalinux_8_8_x64_20G_alibase_20231114.vhd&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      + &quot;almalinux_8_7_uefi_x64_20G_alibase_20230907.vhd&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      + &quot;almalinux_8_7_x64_20G_alibase_20230907.vhd&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      + &quot;almalinux_8_6_x64_20G_alibase_20231010.vhd&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      + &quot;almalinux_8_5_x64_20G_alibase_20230329.vhd&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      + &quot;aliyun_3_x64_20G_qboot_alibase_20230727.vhd&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      + &quot;aliyun_3_9_x64_20G_dengbao_alibase_20231219.vhd&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      + &quot;aliyun_3_9_x64_20G_uefi_alibase_20231219.vhd&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      + &quot;aliyun_3_9_x64_20G_alibase_20231219.vhd&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      + &quot;aliyun_2_1903_x64_20G_qboot_alibase_20230214.vhd&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      + &quot;aliyun_2_1903_x64_20G_dengbao_alibase_20230214.vhd&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      + &quot;aliyun_2_1903_x64_20G_uefi_alibase_20230214.vhd&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      + &quot;aliyun_2_1903_x64_20G_alibase_20231221.vhd&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      + &quot;ubuntu_20_04_uefi_x64_20G_alibase_20220324.vhd&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      + &quot;ubuntu_18_04_uefi_x64_20G_alibase_20220330.vhd&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      + &quot;ubuntu_14_0405_64_20G_alibase_20170824.vhd&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      + &quot;opensuse_42_03_64_20G_alibase_20171031.vhd&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      + &quot;opensuse_15_1_x64_20G_alibase_20200623.vhd&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      + &quot;freebsd_12_1_x64_30G_alibase_20201022.vhd&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      + &quot;freebsd_11_4_x64_30G_alibase_20210319.vhd&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      + &quot;freebsd_11_3_x64_30G_alibase_20200803.vhd&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      + &quot;freebsd_11_02_64_30G_alibase_20190806.vhd&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      + &quot;fcos_34_20210529_3_0_3_x64_20G_alibase_20210824.vhd&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      + &quot;fcos_33.20210217.3.0_3_x86_20G_alibase_20210331.vhd&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      + &quot;fedora_34_1_x64_20G_alibase_20220322.vhd&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      + &quot;debian_9_09_64_20G_alibase_20190702.vhd&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      + &quot;debian_9_8_x64_20G_alibase_20210928.vhd&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      + &quot;debian_9_6_x64_20G_alibase_20210927.vhd&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      + &quot;debian_9_13_uefi_x64_20G_alibase_20210611.vhd&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      + &quot;debian_9_12_x64_20G_alibase_20200622.vhd&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      + &quot;debian_9_11_x64_20G_alibase_20191225.vhd&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      + &quot;debian_8_09_64_20G_alibase_20170824.vhd&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      + &quot;debian_8.11_64_20G_alibase_20190311.vhd&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      + &quot;debian_11_2_x64_20G_alibase_20220308.vhd&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      + &quot;debian_11_0_x64_20G_alibase_20211130.vhd&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      + &quot;debian_10_11_x64_20G_alibase_20220208.vhd&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      + &quot;debian_10_10_uefi_x64_20G_alibase_20210611.vhd&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      + &quot;centos_8_5_uefi_x64_20G_alibase_20220328.vhd&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      + &quot;centos_8_4_uefi_x64_20G_alibase_20210611.vhd&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      + &quot;centos_8_4_x64_20G_alibase_20211027.vhd&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      + &quot;centos_8_3_uefi_x64_20G_alibase_20210611.vhd&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      + &quot;centos_8_3_x64_20G_alibase_20210723.vhd&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      + &quot;centos_8_2_x64_20G_alibase_20210712.vhd&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      + &quot;centos_8_1_x64_20G_alibase_20210712.vhd&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      + &quot;centos_8_0_x64_20G_alibase_20210712.vhd&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      + &quot;centos_7_8_x64_20G_alibase_20211130.vhd&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      + &quot;centos_7_7_x64_20G_alibase_20211130.vhd&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      + &quot;centos_7_6_x64_20G_alibase_20211130.vhd&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      + &quot;centos_7_5_x64_20G_alibase_20211130.vhd&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      + &quot;centos_7_04_64_20G_alibase_201701015.vhd&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      + &quot;centos_7_03_64_20G_alibase_20170818.vhd&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      + &quot;centos_7_02_64_20G_alibase_20170818.vhd&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      + &quot;centos_6_09_64_20G_alibase_20180326.vhd&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      + &quot;centos_6_10_x64_20G_alibase_20201120.vhd&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      + &quot;anolisos_8_4_x64_20G_rhck_uefi_alibase_20220328.vhd&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      + &quot;anolisos_8_4_x64_20G_anck_uefi_alibase_20220328.vhd&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      + &quot;anolisos_7_7_x64_20G_rhck_alibase_20211118.vhd&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      + &quot;anolisos_7_7_x64_20G_anck_alibase_20211118.vhd&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      + &quot;aliyun_3_x64_20G_scc_alibase_20220225.vhd&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      + &quot;aliyun_2_1903_x64_20G_scc_alibase_20220225.vhd&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>说明：</p>
<p>最后如果镜像不经常换，那么可以将镜像的ID号写死。</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="variable变量">Variable变量<a href="#variable变量" class="hash-link" aria-label="Variable变量的直接链接" title="Variable变量的直接链接">​</a></h3>
<p>这个可以理解为输入变量</p>
<p>变量允许自定义Terraform模块，而无需更改模块自己的源代码。这可以实现跨不通的Terraform配置共享模块，使模块可组合和可重用</p>
<ul>
<li>在variables.tf文件中定义变量</li>
<li>在同一个模块的所有变量中必须是唯一的</li>
<li>可以从环境或者文本文件中读取</li>
<li>Terraform默认读取terraform.tfvars</li>
</ul>
<div class="language-golang codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-golang codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">variable  &quot;alicloud_access_key&quot; {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  type = string</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">variable  &quot;alicloud_secret_key&quot; {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  type = string</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>限制变量是否展示</p>
<div class="language-golang codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-golang codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">sensitive  = true  //限制变量在UI中显示</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>参数类型</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">- any</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">- string</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">- number</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">- bool </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">- list(```&lt;type&gt;```)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">- set(```&lt;type&gt;```)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">- map(```&lt;type&gt;```)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">- object({ATTR_NAME=ATTR_TYPE,...})</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">- tuple([```&lt;TYPE&gt;```,...])</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="map变量">map变量<a href="#map变量" class="hash-link" aria-label="map变量的直接链接" title="map变量的直接链接">​</a></h4>
<p>这里以 使用map类型的变量来定义NDS域名</p>
<p>首先就是声明变量,创建nds.tf文件</p>
<div class="language-golang codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-golang codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">//声明</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">variable &quot;dns_record&quot; {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   type = map(string)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   description = &quot;define dns name&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">//赋值</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">dns_record = {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;dev&quot; = &quot;dev&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;stag&quot; = &quot;stag&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;prod&quot; = &quot;prod&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">//解析dns</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">resource &quot;alicloud_dns_record&quot; &quot;record&quot; {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  name = &quot;zlqit.com&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  host_record = var.dns_record[&quot;dev&quot;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  type = &quot;A&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  value = &quot;192.168.100.10&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="list变量使用">list变量使用<a href="#list变量使用" class="hash-link" aria-label="list变量使用的直接链接" title="list变量使用的直接链接">​</a></h4>
<div class="language-golang codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-golang codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">//声明</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">root@zhanglaiqiang-KVM:/data/terraform# cat list.tf  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">variable &quot;env_list&quot; {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  type =  list(string)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  description = &quot;deploy env name&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">//赋值</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">env_list = [&quot;dev&quot;,&quot;stag&quot;,&quot;prod&quot;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">//使用</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cat output.tf </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">output &quot;my_env&quot; {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> value = var.env_list[0]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="object变量使用">object变量使用<a href="#object变量使用" class="hash-link" aria-label="object变量使用的直接链接" title="object变量使用的直接链接">​</a></h4>
<div class="language-golang codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-golang codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">root@zhanglaiqiang-KVM:/data/terraform# cat object.tf  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">//object自定义对象</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">variable  &quot;ecs_info&quot; {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    type = object ({ ecs_image = string , ecs_name = string})</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cat terraform.tfvar</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ecs_info = {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   ecs_image = &quot;centos7_5_x64_20G_alibase_20211130.vhd&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   ecs_name = &quot;mydemoecs&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">root@zhanglaiqiang-KVM:/data/terraform# cat output.tf  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">output &quot;my_env&quot; {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  value = var.ecs_info[&quot;ecs_image&quot;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="variable-locals本地变量">variable-locals本地变量<a href="#variable-locals本地变量" class="hash-link" aria-label="variable-locals本地变量的直接链接" title="variable-locals本地变量的直接链接">​</a></h3>
<div class="language-golang codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-golang codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">//定义</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">locals {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   ecs_name = &quot;mydemoecs&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   owner = &quot;zhangyong&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">//引用</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">local.ecs_name</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">local.owner</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="output输出">Output输出<a href="#output输出" class="hash-link" aria-label="Output输出的直接链接" title="Output输出的直接链接">​</a></h3>
<pre tabindex="0" class="codeBlockStandalone_MEMb thin-scrollbar language-golang codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"></code></pre>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="terraform模块简介">terraform模块简介<a href="#terraform模块简介" class="hash-link" aria-label="terraform模块简介的直接链接" title="terraform模块简介的直接链接">​</a></h3>
<p>Terraform 可以更轻松扩展基础架构并保持其配置整洁。但是，随着基础架构的增长，单个目录变得难以管理。</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="terraform模块">Terraform模块<a href="#terraform模块" class="hash-link" aria-label="Terraform模块的直接链接" title="Terraform模块的直接链接">​</a></h2>
<p>一般对terraform文件.tf所在的文件夹称为根模块,在根模块下，我们可以创建多个子模块，实现代码的复用,子模块中也可以有子模块。</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="terraform案例">Terraform案例<a href="#terraform案例" class="hash-link" aria-label="Terraform案例的直接链接" title="Terraform案例的直接链接">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="实现创建ecs">实现创建ECS<a href="#实现创建ecs" class="hash-link" aria-label="实现创建ECS的直接链接" title="实现创建ECS的直接链接">​</a></h3>
<p><strong>目录结构图</strong></p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">root@zhanglaiqiang-KVM:/data/terraform_module# tree -l</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├── env</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ├── dev</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │   ├── main.tf</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │   ├── terraform.tfstate</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │   ├── terraform.tfstate.backup</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │   ├── terraform.tfvars</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │   ├── variables.tf</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │   └── versions.tf</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   └── prod</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│       ├── main.tf</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│       ├── terraform.tfstate</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│       ├── terraform.tfstate.backup</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│       ├── terraform.tfvars</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│       ├── variables.tf</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│       └── versions.tf</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">└── modules</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ├── dns</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    │   ├── main.tf</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    │   └── variables.tf</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ├── ecs</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    │   ├── main.tf</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    │   ├── outputs.tf</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    │   └── variables.tf</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ├── secgroup</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    │   ├── main.tf</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    │   ├── output.tf</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    │   └── variables.tf</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    └── vpc</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        ├── main.tf</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        ├── outputs.tf</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        └── variables.tf</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>逐步每个文件内容展示</p>
<p><strong>vpc的配置文件</strong></p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">root@zhanglaiqiang-KVM:/data/terraform_module/modules/vpc# cat main.tf  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// VPC专有网络，不收费</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">resource &quot;alicloud_vpc&quot; &quot;vpc&quot; {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  vpc_name = var.vpc_name</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  cidr_block = var.vpc_cidr_block  // 网段</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// switch交换机，虚拟资源，不收费</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">resource &quot;alicloud_vswitch&quot; &quot;vsw&quot; {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  vpc_id = alicloud_vpc.vpc.id  // 绑定vpc</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  cidr_block = var.vsw_cidr_block  // 网段</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  zone_id = var.region</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">root@zhanglaiqiang-KVM:/data/terraform_module/modules/vpc# </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">root@zhanglaiqiang-KVM:/data/terraform_module/modules/vpc# cat outputs.tf </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">output &quot;vsw_id&quot; {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    value = alicloud_vswitch.vsw.id</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">output &quot;vpc_id&quot; {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    value = alicloud_vpc.vpc.id </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">root@zhanglaiqiang-KVM:/data/terraform_module/modules/vpc# cat variables.tf  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">variable &quot;vpc_cidr_block&quot; {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  default = &quot;172.16.0.0/12&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">variable &quot;vpc_name&quot; {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  default = &quot;tf-test&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">variable &quot;vsw_cidr_block&quot; {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  default = &quot;172.17.0.0/21&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">variable &quot;region&quot; {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   type = string</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>secgroup配置</strong></p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">root@zhanglaiqiang-KVM:/data/terraform_module/modules/secgroup# cat main.tf  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">resource &quot;alicloud_security_group&quot; &quot;group&quot; {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  name = var.security_group_name</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  vpc_id = var.vpc_id // 绑定vpc</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  security_group_type = &quot;normal&quot; // 普通类型</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// security_group_rule 规则</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">resource &quot;alicloud_security_group_rule&quot; &quot;allow_80_tcp&quot; {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  type = &quot;ingress&quot;  // 入流量</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ip_protocol = &quot;tcp&quot;  // tcp协议</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  nic_type = &quot;intranet&quot;  // 不用管</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  policy = &quot;accept&quot;  // 接受类型</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  port_range = &quot;80/80&quot;  // 端口范围，你需要访问什么端口就开什么端口</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  priority = 10  // 优先级</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  security_group_id = alicloud_security_group.group.id // 绑定安全组</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  cidr_ip = &quot;0.0.0.0/0&quot;  //   运行外部网络访问</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">resource &quot;alicloud_security_group_rule&quot; &quot;allow_22_tcp&quot; {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  type = &quot;ingress&quot;  // 入流量</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ip_protocol = &quot;tcp&quot;  // tcp协议</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  nic_type = &quot;intranet&quot;  // 不用管</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  policy = &quot;accept&quot;  // 接受类型</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  port_range = &quot;22/22&quot;  // 端口范围，你需要访问什么端口就开什么端口</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  priority = 10  // 优先级</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  security_group_id = alicloud_security_group.group.id // 绑定安全组</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  cidr_ip = &quot;0.0.0.0/0&quot;  // 运行外部网络访问</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">root@zhanglaiqiang-KVM:/data/terraform_module/modules/secgroup# cat output.tf  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">output &quot;secgroup_id&quot; {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  value = alicloud_security_group.group.id</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">root@zhanglaiqiang-KVM:/data/terraform_module/modules/secgroup# cat variables.tf  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">variable &quot;vpc_id&quot; {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">variable &quot;security_group_name&quot; {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  type = string</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>ecs的配置</strong></p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">root@zhanglaiqiang-KVM:/data/terraform_module/modules/ecs# cat main.tf  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">//locals {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">//   ecs_name = &quot;myecs-2&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">//}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// ecs按量付费，这里使用最小的规格</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">resource &quot;alicloud_instance&quot; &quot;ecs&quot; {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  availability_zone = var.region   // 可用区 var.region  这里使用变量</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  security_groups = [var.secgroup_id] // 绑定安全组</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  instance_type = var.instance_type // 服务器规格</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  system_disk_category = var.system_disk_category // 系统磁盘</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  system_disk_name = var.system_disk_name  // 磁盘显示名称</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  system_disk_description = var.system_disk_description  // 磁盘描述信息</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  image_id = var.image_id                                //  data.alicloud_images.images_ds.images[0].id  操作系统镜像id，这里是centos7.9  这里使用变量</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  instance_name = var.ecs_name // 服务器实例名字</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  vswitch_id = var.vsw_id  // 绑定交换机</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  internet_max_bandwidth_out = 1  // 限制最大带宽1Mb，这里会生成公网ip，以提供访问</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  internet_charge_type = &quot;PayByTraffic&quot;  // 重点---付费类型：按量付费</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  password = &quot;root@123&quot;  // 生成服务器后，你的root密码</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">root@zhanglaiqiang-KVM:/data/terraform_module/modules/ecs# cat outputs.tf  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">output &quot;ecs_ip&quot; {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  value = alicloud_instance.ecs.public_ip</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">root@zhanglaiqiang-KVM:/data/terraform_module/modules/ecs# cat variables.tf  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">variable &quot;region&quot; {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   type = string</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">variable &quot;vsw_id&quot; {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   type = string</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">variable &quot;secgroup_id&quot; {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">variable &quot;ecs_name&quot; {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   type = string</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">variable &quot;instance_type&quot; {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">variable &quot;image_id&quot; {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">variable &quot;system_disk_category&quot; {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  type = string</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">variable &quot;system_disk_name&quot; {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  type = string</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">variable &quot;system_disk_description&quot; {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  type = string</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>dns相关的配置</strong></p>
<p>由于我的环境暂时没有用到，所以注释掉了</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">root@zhanglaiqiang-KVM:/data/terraform_module/modules/dns# cat main.tf  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">//resource &quot;alicloud_dns_record&quot; &quot;record&quot; {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">//   name = &quot;ilync&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">//   host_record = var.dns_record</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">//   type = &quot;A&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">//   value = var.ecs_ip</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">//}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">root@zhanglaiqiang-KVM:/data/terraform_module/modules/dns# cat variables.tf  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">//variable &quot;ecs_ip&quot; {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">//</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">//}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">//variable &quot;dns_record&quot; {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">//</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">//}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>dev环境的配置信息</strong></p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">root@zhanglaiqiang-KVM:/data/terraform_module/env/dev# cat main.tf  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// ak sk 可用区</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">provider &quot;alicloud&quot; {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  access_key = var.ALICLOUD_ACCESS_KEY</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  secret_key = var.ALICLOUD_SECRET_KEY</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  region     = &quot;cn-beijing&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">locals {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  region         = &quot;cn-beijing-a&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  vpc_cidr_block = &quot;172.16.0.0/12&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  vsw_cidr_block = &quot;172.17.0.0/21&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  vpc_name       = &quot;vpc-dev&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  //security_group部分</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  security_group_name = &quot;security_group_dev&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  //ecs部分</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ecs_name                = &quot;ecs-dev&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  instance_type           = &quot;ecs.c6.large&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  image_id                = &quot;centos_7_9_x64_20G_alibase_20201228.vhd&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  system_disk_category    = &quot;cloud_efficiency&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  system_disk_name        = &quot;terraform-dev&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  system_disk_description = &quot;terraform-dev&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">module &quot;vpc&quot; {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  source         = &quot;../../modules/vpc&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  vpc_cidr_block = local.vpc_cidr_block</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  vsw_cidr_block = local.vsw_cidr_block</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  vpc_name       = local.vpc_name</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  region         = local.region //指定可用区</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">module &quot;secgroup&quot; {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  source              = &quot;../../modules/secgroup&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  vpc_id              = module.vpc.vpc_id</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  security_group_name = local.security_group_name</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">module &quot;ecs&quot; {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  source                  = &quot;../../modules/ecs&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  region                  = local.region //指定可用区</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ecs_name                = local.ecs_name</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  vsw_id                  = module.vpc.vsw_id</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  secgroup_id             = module.secgroup.secgroup_id</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  instance_type           = local.instance_type</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  image_id                = local.image_id</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  system_disk_category    = local.system_disk_category</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  system_disk_name        = local.system_disk_name</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  system_disk_description = local.system_disk_description</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">//module &quot;dns&quot; {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">//    source = &quot;../../modules/dns&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">//    dns_record = &quot;zhanglaiqiang&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">//    ecs_ip = module.ecs.ecs_ip</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">//}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">root@zhanglaiqiang-KVM:/data/terraform_module/env/dev# </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">root@zhanglaiqiang-KVM:/data/terraform_module/env/dev# cat terraform.tfvars  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ALICLOUD_ACCESS_KEY = &quot;LTAI5t9g82e3ofLkYRqbDE&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ALICLOUD_SECRET_KEY = &quot;RaZsnfJqQaUJjKzKVqLJsKaWtSCk&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">root@zhanglaiqiang-KVM:/data/terraform_module/env/dev# cat variables.tf  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// 声明变量</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">variable &quot;ALICLOUD_ACCESS_KEY&quot; {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  type      = string</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  sensitive = true</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">variable &quot;ALICLOUD_SECRET_KEY&quot; {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  type = string</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">//variable &quot;alicloud&quot; {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">//  type        = string</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">//  description = &quot;region name&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">//  default     = &quot;cn-beijing&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">//  sensitive   = true</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">//}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">root@zhanglaiqiang-KVM:/data/terraform_module/env/dev# cat versions.tf  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">terraform {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  required_version = &quot;1.8.2&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  required_providers {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    alicloud = {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      source = &quot;hashicorp/alicloud&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">root@zhanglaiqiang-KVM:/data/terraform_module/env/dev#</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="terraform扩展">Terraform扩展<a href="#terraform扩展" class="hash-link" aria-label="Terraform扩展的直接链接" title="Terraform扩展的直接链接">​</a></h2>
<p>terraform init</p>
<p>代码格式化</p>
<p>terraform fmt</p>
<p>验证语法</p>
<p>terraform  validate</p>
<p>预览查看</p>
<p>terraform  plan</p>
<p>执行发布</p>
<p>terraform  apply --auto-approve</p>
<p>for_each创建资源副本</p>
<p>在遍历的时候，是以值得方式，不是以索引的方式</p>
<p>如 果资源变更有不一样的地方，建议使用for_earch ，如果资源一模一样的时候，建议使用count，比如，dns添加A记录， 由三个变更为两个</p>
<p>dynamic 动态的内敛块</p>
<ol>
<li>dynamic: 定义动态资源块，后面是label,默认为生成的语句块名称</li>
<li>for_earch: 要进行迭代循环的对象(map,set)</li>
<li>iterator:  临时的变量名称，如果未定义则使用label 既 &quot;ports&quot;</li>
<li>content: 要生成的语句块的内容部分</li>
</ol>
<p><img decoding="async" loading="lazy" alt="image-20240427132451169" src="data:image/png;base64,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" width="470" height="183" class="img_ev3q">  ===&gt; <img decoding="async" loading="lazy" alt="image-20240427132524682" src="data:image/png;base64,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" width="532" height="225" class="img_ev3q"></p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/shouji1128955/bookshell/edit/main/docs/DevOps/6-terraform/terraform.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>编辑此页</a></div><div class="col lastUpdated_JAkA"><span class="theme-last-updated">最后<!-- -->由 <b>AMiner</b> <!-- -->于 <b><time datetime="2024-06-22T14:33:05.000Z" itemprop="dateModified">2024年6月22日</time></b> <!-- -->更新</span></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="文件选项卡"></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#terraform基础" class="table-of-contents__link toc-highlight">Terraform基础</a></li><li><a href="#terraform语法" class="table-of-contents__link toc-highlight">Terraform语法</a><ul><li><a href="#resource资源" class="table-of-contents__link toc-highlight">Resource资源</a></li><li><a href="#datasource数据源" class="table-of-contents__link toc-highlight">DataSource数据源</a></li><li><a href="#variable变量" class="table-of-contents__link toc-highlight">Variable变量</a></li><li><a href="#variable-locals本地变量" class="table-of-contents__link toc-highlight">variable-locals本地变量</a></li><li><a href="#output输出" class="table-of-contents__link toc-highlight">Output输出</a></li><li><a href="#terraform模块简介" class="table-of-contents__link toc-highlight">terraform模块简介</a></li></ul></li><li><a href="#terraform模块" class="table-of-contents__link toc-highlight">Terraform模块</a></li><li><a href="#terraform案例" class="table-of-contents__link toc-highlight">Terraform案例</a><ul><li><a href="#实现创建ecs" class="table-of-contents__link toc-highlight">实现创建ECS</a></li></ul></li><li><a href="#terraform扩展" class="table-of-contents__link toc-highlight">Terraform扩展</a></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://shouji1128955.github.io" target="_blank" rel="noopener noreferrer" class="footer__link-item">LiteShell<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://kubernetes.io/" target="_blank" rel="noopener noreferrer" class="footer__link-item">kubernetes<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://twitter.com/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://mindoc.zlqit.com" target="_blank" rel="noopener noreferrer" class="footer__link-item">mindoc<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://github.com/shouji1128955" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2024 My Blog Project - LiteShell</div></div></div></footer></div>
</body>
</html>