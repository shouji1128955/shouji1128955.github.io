## å‘Šè­¦æ¨¡æ¿å‚è€ƒ

```golang

groups:
name: clickhouse-rules
rules:
alert: clickhouseå½“å‰æ´»è·ƒçš„è¿æ¥æ•°è¿‡å¤š
expr: ClickHouseMetrics_TCPConnection > 2
for: 1m
labels:
level: warning
annotations:
description: "clickhouseæ•°æ®åº“å½“å‰æ´»è·ƒçš„è¿æ¥æ•°: {{ $ value }}" 
è¿™æ˜¯å‘Šè­¦è¡¨è¾¾å¼
 
è¿™ä¸‹é¢æ˜¯æˆ‘çš„æ¨¡æ¿ï¼š
{{ $var := .externalURL}}{{ range $k,$v:=.alerts }}{{if eq $v.status "resolved"}}**[Prometheusæ¢å¤ä¿¡æ¯]({{$v.generatorURL}})**
*[{{$v.labels.alertname}}]({{$var}})*
å‘Šè­¦çŠ¶æ€ï¼š<font color="green">å·²æ¢å¤</font>
å¼€å§‹æ—¶é—´ï¼š{{$v.startsAt}}
ç»“æŸæ—¶é—´ï¼š{{$v.endsAt}} 
æ•…éšœä¸»æœºIPï¼š{{$v.labels.instance}}
**{{$v.annotations.description}}**{{else}}ğŸ””ğŸ””ğŸ””**[Prometheus æŠ¥è­¦é€šçŸ¥]({{ $v.generatorURL }})**ğŸ””ğŸ””ğŸ””
å‘Šè­¦åç§°ï¼š**[{{$v.labels.alertname}}]({{$var}})**
å‘Šè­¦çŠ¶æ€ï¼š{{ $v.labels.level }}
å¼€å§‹æ—¶é—´ï¼š{{ TimeFormat $v.startsAt "2006-01-02 15:04:05" }}
å®ä¾‹åœ°å€ï¼š{{ $v.labels.instance }}
æ•…éšœè¯¦æƒ…ï¼š**{{ $v.annotations.description }}**
{{end }}
<font color="red">ï¼ï¼ï¼è¯·åŠæ—¶å¤„ç†ï¼ï¼ï¼</font>
{{end }}

æˆ‘å®é™…è¿æ¥æ•°æ˜¯1äº†ã€‚ä¸ºå•¥æ¨é€çš„æ–‡æœ¬è¿˜æ˜¯3å‘¢ï¼Ÿ

```